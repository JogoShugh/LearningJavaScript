// Generated by CoffeeScript 1.6.2
(function() {
  var copy;

  copy = function(from, to, propertiesToCopy) {
    var property, _i, _len, _results;

    _results = [];
    for (_i = 0, _len = propertiesToCopy.length; _i < _len; _i++) {
      property = propertiesToCopy[_i];
      _results.push(to[property] = from[property]);
    }
    return _results;
  };

  this.Menu = angular.module('Menu', []);

  this.Menu.config(function($routeProvider) {
    return $routeProvider.when('/menu/:meal', {
      templateUrl: 'partials/menu.html',
      controller: 'RouteController'
    }).otherwise({
      redirectTo: '/menu/breakfast'
    });
  });

  this.MenuController = function($scope, $rootScope, $http) {
    $rootScope.navLinks = [
      {
        text: 'Breakfast',
        meal: 'breakfast'
      }, {
        text: 'Lunch',
        meal: 'lunch'
      }, {
        text: 'Dinner',
        meal: 'dinner'
      }
    ];
    $http.get('data/mealMenus.json').success(function(data) {
      return $rootScope.mealMenus = data;
          $('.carousel').carousel({
        interval: 2000
      });
    });
    return $rootScope.getMenuFor = function(meal) {
      var menu;

      if (this.mealMenus[meal] != null) {
        return this.mealMenus[meal];
      } else {
        menu = this.mealMenus["default"];
        menu.name = meal;
        return menu;
      }
    };
  };

  this.RouteController = function($scope, $rootScope, $routeParams) {
    var meal;

    meal = $routeParams.meal;
    $scope.menu = meal;
    meal = $rootScope.getMenuFor(meal);
    return copy(meal, $scope, ['name', 'headings', 'items']);
  };
  /**this.DropdownCtrl = function($scope) {
  $scope.items = [
    "The first choice!",
    "And another choice for you.",
    "but wait! A third!"
  ];
}.call(this);*/
  this.CarouselDemoCtrl = function($scope) {
    $scope.myInterval = 5000;
    $scope.slides = [
    {image: 'egg.png',text: 'Kitten.'},
    {image: 'waffle_06.png',text: 'Kitty!'},
    {image: 'images.png',text: 'Cat.'},
    {image: 'tofu.png',text: 'Feline!'}
  ];
    $scope.addSlide = function() {
      $scope.slides.push({
        image: 'http://placekitten.com/'+(200+25*Math.floor(Math.random()*4))+'/200',
        text: ['More','Extra','Lots of','Surplus'][Math.floor(Math.random()*4)] + ' ' +
          ['Cats', 'Kittys', 'Felines', 'Cutes'][Math.floor(Math.random()*4)]
    });
  };
}
}).call(this);
